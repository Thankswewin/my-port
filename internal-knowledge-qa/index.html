<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internal Knowledge QA - Intelligent Q&A System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-brain"></i>
                    <span>KnowledgeQA AI</span>
                </div>
                <div class="header-actions">
                    <button class="knowledge-base-btn" onclick="showKnowledgeBaseManager()">
                        <i class="fas fa-database"></i>
                        Manage Knowledge Base
                    </button>
                    <button class="theme-toggle" onclick="toggleTheme()">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Chat Interface -->
            <section class="chat-section">
                <div class="chat-container">
                    <div class="chat-header">
                        <h2><i class="fas fa-comments"></i> Knowledge Assistant</h2>
                        <p>Ask me anything about your organization's knowledge base</p>
                        <div class="chat-stats">
                            <span id="questionCount">0 questions asked</span>
                            <span id="kbSize">0 documents in knowledge base</span>
                        </div>
                    </div>

                    <div class="chat-messages" id="chatMessages">
                        <div class="welcome-message">
                            <div class="assistant-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <p>Hello! I'm your internal knowledge assistant. I can help you find information, answer questions, and provide insights based on your organization's knowledge base.</p>
                                <div class="suggested-questions">
                                    <h4>Suggested Questions:</h4>
                                    <button class="suggested-btn" onclick="askSuggestedQuestion('What are our company policies?')">
                                        What are our company policies?
                                    </button>
                                    <button class="suggested-btn" onclick="askSuggestedQuestion('How do I request time off?')">
                                        How do I request time off?
                                    </button>
                                    <button class="suggested-btn" onclick="askSuggestedQuestion('What tools do we use for project management?')">
                                        What tools do we use for project management?
                                    </button>
                                    <button class="suggested-btn" onclick="askSuggestedQuestion('Where can I find IT support?')">
                                        Where can I find IT support?
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-area">
                        <div class="input-container">
                            <input type="text" id="questionInput" placeholder="Ask your question here..." />
                            <button class="send-btn" id="sendBtn" onclick="sendQuestion()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="input-actions">
                            <button class="voice-btn" onclick="toggleVoiceInput()">
                                <i class="fas fa-microphone"></i>
                                Voice Input
                            </button>
                            <button class="clear-btn" onclick="clearChat()">
                                <i class="fas fa-trash"></i>
                                Clear Chat
                            </button>
                            <button class="export-btn" onclick="exportChat()">
                                <i class="fas fa-download"></i>
                                Export Chat
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Knowledge Base Panel -->
                <div class="knowledge-panel">
                    <div class="panel-header">
                        <h3><i class="fas fa-book"></i> Quick Knowledge Access</h3>
                        <button class="refresh-btn" onclick="refreshKnowledgeBase()">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>

                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="knowledgeSearch" placeholder="Search knowledge base..." />
                    </div>

                    <div class="knowledge-categories">
                        <h4>Categories</h4>
                        <div class="category-list">
                            <div class="category-item active" onclick="filterByCategory('all')">
                                <i class="fas fa-globe"></i>
                                <span>All Topics</span>
                                <span class="count">24</span>
                            </div>
                            <div class="category-item" onclick="filterByCategory('hr')">
                                <i class="fas fa-users"></i>
                                <span>Human Resources</span>
                                <span class="count">8</span>
                            </div>
                            <div class="category-item" onclick="filterByCategory('it')">
                                <i class="fas fa-laptop"></i>
                                <span>IT & Systems</span>
                                <span class="count">6</span>
                            </div>
                            <div class="category-item" onclick="filterByCategory('finance')">
                                <i class="fas fa-dollar-sign"></i>
                                <span>Finance</span>
                                <span class="count">4</span>
                            </div>
                            <div class="category-item" onclick="filterByCategory('operations')">
                                <i class="fas fa-cogs"></i>
                                <span>Operations</span>
                                <span class="count">6</span>
                            </div>
                        </div>
                    </div>

                    <div class="recent-documents">
                        <h4>Recent Documents</h4>
                        <div class="document-list" id="documentList">
                            <div class="document-item">
                                <i class="fas fa-file-alt"></i>
                                <div class="document-info">
                                    <span class="document-title">Employee Handbook 2024</span>
                                    <span class="document-meta">Updated 2 days ago</span>
                                </div>
                            </div>
                            <div class="document-item">
                                <i class="fas fa-file-alt"></i>
                                <div class="document-info">
                                    <span class="document-title">IT Security Policy</span>
                                    <span class="document-meta">Updated 1 week ago</span>
                                </div>
                            </div>
                            <div class="document-item">
                                <i class="fas fa-file-alt"></i>
                                <div class="document-info">
                                    <span class="document-title">Expense Guidelines</span>
                                    <span class="document-meta">Updated 3 days ago</span>
                                </div>
                            </div>
                            <div class="document-item">
                                <i class="fas fa-file-alt"></i>
                                <div class="document-info">
                                    <span class="document-title">Project Management Tools Guide</span>
                                    <span class="document-meta">Updated 5 days ago</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="quick-actions">
                        <h4>Quick Actions</h4>
                        <div class="action-buttons">
                            <button onclick="showKnowledgeBaseManager()">
                                <i class="fas fa-plus"></i>
                                Add Document
                            </button>
                            <button onclick="showAnalytics()">
                                <i class="fas fa-chart-bar"></i>
                                View Analytics
                            </button>
                            <button onclick="showSettings()">
                                <i class="fas fa-cog"></i>
                                Settings
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Knowledge Base Manager Modal -->
        <div class="modal" id="kbManagerModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-database"></i> Knowledge Base Manager</h3>
                    <button class="close-btn" onclick="closeModal('kbManagerModal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="kb-tabs">
                        <button class="tab-btn active" onclick="switchTab('upload')">
                            <i class="fas fa-upload"></i> Upload Documents
                        </button>
                        <button class="tab-btn" onclick="switchTab('manage')">
                            <i class="fas fa-list"></i> Manage Documents
                        </button>
                        <button class="tab-btn" onclick="switchTab('settings')">
                            <i class="fas fa-cog"></i> Settings
                        </button>
                    </div>

                    <div class="tab-content" id="uploadTab">
                        <div class="upload-area">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h3>Upload Knowledge Documents</h3>
                            <p>Drag & drop files or click to browse</p>
                            <p class="supported-formats">PDF, DOCX, TXT, MD, CSV</p>
                            <input type="file" id="kbFileInput" multiple accept=".pdf,.docx,.txt,.md,.csv" hidden>
                            <button class="browse-btn" onclick="document.getElementById('kbFileInput').click()">
                                Browse Files
                            </button>
                        </div>

                        <div class="upload-options">
                            <h4>Processing Options</h4>
                            <div class="option-group">
                                <label>
                                    <input type="checkbox" id="autoCategorize" checked>
                                    Auto-categorize documents
                                </label>
                                <label>
                                    <input type="checkbox" id="extractQuestions" checked>
                                    Extract common questions
                                </label>
                                <label>
                                    <input type="checkbox" id="generateSummary" checked>
                                    Generate document summaries
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="manageTab" style="display: none;">
                        <div class="manage-controls">
                            <div class="search-bar">
                                <i class="fas fa-search"></i>
                                <input type="text" placeholder="Search documents..." />
                            </div>
                            <select class="filter-select">
                                <option>All Categories</option>
                                <option>Human Resources</option>
                                <option>IT & Systems</option>
                                <option>Finance</option>
                                <option>Operations</option>
                            </select>
                        </div>

                        <div class="document-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Document</th>
                                        <th>Category</th>
                                        <th>Size</th>
                                        <th>Updated</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="documentTableBody">
                                    <tr>
                                        <td>
                                            <i class="fas fa-file-pdf"></i>
                                            Employee Handbook 2024.pdf
                                        </td>
                                        <td><span class="category-badge hr">HR</span></td>
                                        <td>2.4 MB</td>
                                        <td>2 days ago</td>
                                        <td>
                                            <button class="action-btn edit" onclick="editDocument(1)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="action-btn delete" onclick="deleteDocument(1)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="fas fa-file-word"></i>
                                            IT Security Policy.docx
                                        </td>
                                        <td><span class="category-badge it">IT</span></td>
                                        <td>1.2 MB</td>
                                        <td>1 week ago</td>
                                        <td>
                                            <button class="action-btn edit" onclick="editDocument(2)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="action-btn delete" onclick="deleteDocument(2)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="settingsTab" style="display: none;">
                        <div class="settings-section">
                            <h4>AI Model Settings</h4>
                            <div class="setting-group">
                                <label>Response Style</label>
                                <select>
                                    <option>Professional & Formal</option>
                                    <option>Friendly & Casual</option>
                                    <option>Technical & Detailed</option>
                                    <option>Quick & Concise</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <label>Confidence Threshold</label>
                                <input type="range" min="50" max="100" value="75" />
                                <span class="range-value">75%</span>
                            </div>
                            <div class="setting-group">
                                <label>Max Response Length</label>
                                <select>
                                    <option>Concise (100 words)</option>
                                    <option>Standard (250 words)</option>
                                    <option>Detailed (500 words)</option>
                                    <option>Comprehensive (1000 words)</option>
                                </select>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4>Knowledge Base Settings</h4>
                            <div class="setting-group">
                                <label>
                                    <input type="checkbox" checked>
                                    Enable automatic updates
                                </label>
                            </div>
                            <div class="setting-group">
                                <label>
                                    <input type="checkbox" checked>
                                    Track user queries for improvement
                                </label>
                            </div>
                            <div class="setting-group">
                                <label>
                                    <input type="checkbox">
                                    Require approval for new documents
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal('kbManagerModal')">Cancel</button>
                    <button class="btn btn-primary" onclick="saveKnowledgeBaseSettings()">Save Changes</button>
                </div>
            </div>
        </div>

        <!-- Analytics Modal -->
        <div class="modal" id="analyticsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-chart-bar"></i> Knowledge Analytics</h3>
                    <button class="close-btn" onclick="closeModal('analyticsModal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="analytics-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-question-circle"></i>
                            </div>
                            <div class="stat-info">
                                <h3>1,247</h3>
                                <p>Total Questions</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-smile"></i>
                            </div>
                            <div class="stat-info">
                                <h3>94%</h3>
                                <p>Satisfaction Rate</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-info">
                                <h3>2.3s</h3>
                                <p>Avg Response Time</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="stat-info">
                                <h3>24</h3>
                                <p>Knowledge Documents</p>
                            </div>
                        </div>
                    </div>

                    <div class="analytics-charts">
                        <div class="chart-container">
                            <h4>Popular Questions</h4>
                            <div class="popular-questions">
                                <div class="question-stat">
                                    <span>How do I reset my password?</span>
                                    <span class="count">142</span>
                                </div>
                                <div class="question-stat">
                                    <span>What are the working hours?</span>
                                    <span class="count">98</span>
                                </div>
                                <div class="question-stat">
                                    <span>How do I request leave?</span>
                                    <span class="count">87</span>
                                </div>
                                <div class="question-stat">
                                    <span>Where can I find IT support?</span>
                                    <span class="count">76</span>
                                </div>
                            </div>
                        </div>

                        <div class="chart-container">
                            <h4>Category Usage</h4>
                            <div class="category-stats">
                                <div class="category-stat">
                                    <span>Human Resources</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 45%"></div>
                                    </div>
                                    <span>45%</span>
                                </div>
                                <div class="category-stat">
                                    <span>IT & Systems</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 30%"></div>
                                    </div>
                                    <span>30%</span>
                                </div>
                                <div class="category-stat">
                                    <span>Finance</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 15%"></div>
                                    </div>
                                    <span>15%</span>
                                </div>
                                <div class="category-stat">
                                    <span>Operations</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 10%"></div>
                                    </div>
                                    <span>10%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading State -->
        <div class="loading-overlay" id="loadingOverlay" style="display: none;">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <h3>Thinking...</h3>
                <p>I'm searching through the knowledge base for your answer</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>